<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/beadCrochetApp.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />


    <meta name="theme-color" content="#000000" />
    <meta name="twitter:card" content="summary_large_image"/>
    <meta property="og:type" content="website"/>


    <title>Crafting Conundrums</title>
    <meta property="og:site_name"  content="Crafting Conundrums"/>
    <meta property="og:title"      content="Crafting Conundrums"/>
    <meta property="twitter:title" content="Crafting Conundrums"/>

    <meta name="author" content="Ellie Baker"/>
    <meta name="author" content="Scott Vorthmann"/>
  
    <meta name="description"             content="Design Tool accompanying the book: 'Crafting Conundrums: Puzzles and Patterns for the Bead Crochet Artist'"/>
    <meta property="og:description"      content="Design Tool accompanying the book: 'Crafting Conundrums: Puzzles and Patterns for the Bead Crochet Artist'"/>
    <meta property="twitter:description" content="Design Tool accompanying the book: 'Crafting Conundrums: Puzzles and Patterns for the Bead Crochet Artist'"/>

    <meta name="keywords" content="bead,crochet,book,art,mathematics,crafts,design,template,pattern"/>
    
    <meta property="og:image"  content="https://ejbakerart.github.io/beadcrochetdesign/K20387_Cover_front4x6.jpg"/>
    <meta name="twitter:image" content="https://ejbakerart.github.io/beadcrochetdesign/K20387_Cover_front4x6.jpg"/>
    
    <meta property="og:url" content="https://ejbakerart.github.io/beadcrochetdesign/"/>
    <link rel="canonical"      href="https://ejbakerart.github.io/beadcrochetdesign/">


    <script src="js/beadCrochetApp.js" type="module"></script>
  </head>

<body>

<div id="navbar">
  <div id="title">
    <h2>Crafting Conundrums</h2>
    <h4>Crafting Conundrums Tool</h4>
  </div>

  <div id="file-operations">
    <input type="file" id="file-selector" accept=".txt">
    <label for="file-selector">Select File to Load</label>
    <select name="load-choices" id="load-choices">
      <option value="load">LOAD</option>
      <option value="harlequin6">Harlequin 6</option>
      <option value="hexagonalgrid7">Hexagonal Grid 7</option>
      <option value="mobius6">Mobius 6</option>
      <option value="equilateraltriangle7">Equilateraltriangle 7</option>
      <option value="honeycomb9">Honeycomb 9</option>
      <option value="hexagonalgrid10">Hexagonal Grid 10</option>
      <option value="userfileplaceholder">Or Choose File Above</option> 
    </select>
    <input type="button" value="Save"></input>
  </div>

  <div id="about-button">
    <input type="button" value="About"></input>
  </div>
</div>

<div id="central">

  <div id="controls-and-vrp">

    <!-- create a spot for the vertical Repeat pattern, which we will later fill in dynamically -->
    <fieldset id="VRP">
      <legend>Vertical Repeat</legend>
      <div>
        <label for="fREPEAT">Repeat</label>
        <input type="number" style="width:70px;" id="fREPEAT" name="fREPEAT" value="57" >
        <input type="button"  id="lockButton" value="Lock"></input>
      </div>
      <div>
        <label for="fCircumference">Circumference</label>
        <input type="number" style="width:70px;" id="fCircumference" name="fCircumference" value="7" >
      </div>
      <svg id="VRPsvg" viewBox="0 0 15 15" stroke="grey" stroke-width="0.06" xmlns="http://www.w3.org/2000/svg" ></svg>
      <input type="button" id="export-vrp" value="Export SVG"></input>
    </fieldset>

    <fieldset id="undo-redo">
      <div>
        <input type="button" value="Undo"></input>
        <input type="button" value="Redo"></input>
      </div>
    </fieldset>

    <fieldset id="editing">
      <legend>Bead Color</legend>
      <div class="InputParams" id="ColorPicker">
        <label for="colorpicker">Color Picker:</label>
        <input type="color" id="colorpicker" value="#257b98">
        <input type="button" value="Add"></input>
        <div class="color-picker" style="margin:10px;">
          <div class="select-color" style="background-color:#C4A3F5;">
            </div>
          <div class="select-color" style="background-color:red;">
            </div>
          <div class="select-color" style="background-color:green;">
            </div>
          <div class="select-color" style="background-color:blue;">
            </div>
          <div class="select-color" style="background-color:black;">
              </div>
          <div class="select-color" style="background-color:#00ff00;">
                </div>
          <div class="select-color" style="background-color:#ffff00;">
              </div>
          <div class="select-color" style="background-color:#02caca;">
          </div>
            <br />
          <div class="select-color" style="background-color: #ffd700;"> <!--"#eecf91;"> -->
                </div>
          <div class="select-color" style="background-color:#804000;">
              </div>
          <div class="select-color" style="background-color:#ff9933;">
              </div>
          <div class="select-color" style="background-color:#fff9cc;">
              </div>
          <div class="select-color" style="background-color:#ff99cc;">
              </div>
          <div class="select-color" style="background-color:#751aff;">
              </div>
          <div class="select-color" style="background-color:#99ebff;">
              </div>
          <div class="select-color" style="background-color:#8a8f8f;">
              </div>
          <br />
          <div class="select-color" id="color-0" style="background-color: #ffffff;">
                </div>
          <div class="select-color" id="color-1" style="background-color:#ffffff;">
              </div>
          <div class="select-color" id="color-2" style="background-color:#ffffff;">
              </div>
          <div class="select-color" id="color-3" style="background-color:#ffffff;">
              </div>
          <div class="select-color" id="color-4" style="background-color:#ffffff;">
              </div>
          <div class="select-color" id="color-5" style="background-color:#ffffff;">
              </div>
          <div class="select-color" id="color-6" style="background-color:#ffffff;">
              </div>
          <div class="select-color" id="color-7" style="background-color:#ffffff;">
              </div>
          <br />

        </div>
      </div>


      <div id="bulk-actions">
        <input type="button" value="Color All"></input>
      </div>
    </fieldset>


  </div>

  <!-- create a spot for the bead plane pattern, which we will later fill in dynamically-->
  <fieldset id="bead-plane">
    <legend>Bead Plane</legend>
    <div id="bp-grid">
      <div id="bp-main">
        <div id="bp-scroller">
          <!-- <div id="bp-placeholder"></div> -->
          <svg id="BPsvg" viewBox="0.8 0 39 49.5" width="640px"
            stroke="grey" stroke-width="0.06" xmlns="http://www.w3.org/2000/svg" ></svg>
        </div>
      </div>
      <div class="right-justify">
        <input type="button" id="export-svg" value="Export SVG"></input>
        <input type="button" id="tile-button" value="Show Rectangular Tile"></input>
      </div>
    </div>
  </fieldset>


<!--So with a lot of hacking I came up with this double wrapper scheme for managing the masking of the simulated rope.
The outermost wrapper is what actually does the masking, with width set to a baseline of 32 for a 3-around and increasing by 7 with
each increment of the circumference (so 4-around is 39, 5-around is 46, etc.).  Simultaneously, the middle div id=ROPEWRAPPER
has to have its width adjusted with each change in the circumference, too.  Only it goes from a baseline of 61 for a 3-around,
increasing by 15 with each increment of the circumference.  So 76 for 4-around, 91 for 5-around, etc.
It's not clear to me why the increment is 15 and not 14, which is the bead diameter set in bead styles in the JS file.
I've left the background colors in for now for debugging, but these should be removed or made gray eventually.
I suspect I will need to make the vertical layout of the rope wider to get the twist function to work, in which
case I will need to change the middle div to use a larger baseline than 61 for a 3-around to whatever is the full width of the
multiple tilings of the vertical layout...  Note that the increments here are related to the bead diameter of 14 pixels.
If that changes, this will not work properly any more, so I should set bead diameter to a fixed constant somewhere.
Right now I have these set to 121 and 59, the correct numbers for a 7-around, which is what we initialize to.
The overflow-x setting is what's causing the div borders to act like a mask.  Maybe there is a better way to do this...
Also, the numbers are ever so slightly off, which is annoying.
-->

  <!-- create a spot for the 3D rope, which we will later fill in dynamically-->
  <fieldset id="OuterROPEWRAPPER" >
    <legend>Rope Preview</legend>
    <input type="number" id="fTwist" name="fTwist" value="0">
    <label for="fTwist">Twist</label>
    <input type="button" value="Spin"></input>
    <div id="ROPEWRAPPER">
          <!-- overflow or overflow-x ? -->
          <div id="ROPE">
            <svg id="ROPEsvg" viewBox="0.8 0 39 49.5" stroke="grey" stroke-width="0.06" xmlns="http://www.w3.org/2000/svg" ></svg>
          </div>
        </div>
  </fieldset>

</div> <!-- end of "central" -->

  <div class="backdrop hidden" id="tile-backdrop">
    <div id="tile">
      <fieldset>
        <legend>Rectangular Tile</legend>
        <svg id="tile-svg" viewBox="0 0 99 99" xmlns="http://www.w3.org/2000/svg" >
          <!-- width and height 99s will be adjusted dynamically, above and below -->
          <defs>
            <clipPath id="clip">
              <rect id="clip-rect" width="99" height="99" />
            </clipPath>
          </defs>
          <g id="tile-group" clip-path="url(#clip)" >
            <!-- bead circles added here dynamically-->
          </g>
        </svg>
        <input type="button" id="export-tile" value="Export SVG"></input>
      </fieldset>
    </div>
  </div>

  <div class="backdrop" id="about">
    <div class="dialog">
      <h1>Crafting Conundrums</h1>
      <p>This is a beta version of a Crafting Conundrums Tool.
        It applies ideas from the design framework described in the book 
        Crafting Conundrums: Puzzles and Patterns for the Bead Crochet Artist
        by Ellie Baker and Susan Goldstine, and was created as a supplement to the book.
        Use at your own risk, since it is still in development,
        but stay tuned for more info and instructions soon!
      </p>
      <div id="book-ad">
        <a href="https://www.routledge.com/Crafting-Conundrums-Puzzles-and-Patterns-for-the-Bead-Crochet-Artist/Baker-Goldstine/p/book/9781466588486" target="_blank">
          <img src="K20387_Cover_front4x6.jpg" style="width:285px;height:405px;">
        </a>
      </div>
    </div>
  </div>

</body>
</html>
